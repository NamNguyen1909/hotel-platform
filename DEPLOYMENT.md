# Hotel Platform - Deployment Guide

## ğŸš€ Auto Deploy trÃªn Render.com

### ğŸ“‹ YÃªu cáº§u trÆ°á»›c khi deploy:

1. **Push code lÃªn GitHub repository**
2. **Chuáº©n bá»‹ Cloudinary account** (Ä‘á»ƒ lÆ°u trá»¯ hÃ¬nh áº£nh)
3. **TÃ i khoáº£n Render.com** (miá»…n phÃ­)

### ğŸ”§ CÃ¡c bÆ°á»›c deploy:

#### 1. **Káº¿t ná»‘i Repository vá»›i Render**
- ÄÄƒng nháº­p vÃ o [Render.com](https://render.com)
- Káº¿t ná»‘i GitHub account
- Import repository `hotel-platform`

#### 2. **Render sáº½ tá»± Ä‘á»™ng Ä‘á»c file `render.yaml`**
File nÃ y Ä‘á»‹nh nghÄ©a:
- **Database**: PostgreSQL database (miá»…n phÃ­)
- **Backend**: Django API service  
- **Frontend**: React/Vite web service

#### 3. **Thiáº¿t láº­p Environment Variables**
Trong Render Dashboard, cáº¥u hÃ¬nh cÃ¡c biáº¿n mÃ´i trÆ°á»ng:

**Backend Environment Variables:**
```bash
# Tá»± Ä‘á»™ng generate
SECRET_KEY=<auto-generated>
DATABASE_URL=<auto-generated-from-database>

# Cáº§n cáº¥u hÃ¬nh thá»§ cÃ´ng
DEBUG=False
ALLOWED_HOSTS=hotel-platform-api.onrender.com,hotel-platform-web.onrender.com,localhost,127.0.0.1
CORS_ALLOWED_ORIGINS=https://hotel-platform-web.onrender.com
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key  
CLOUDINARY_API_SECRET=your-cloudinary-api-secret
```

**Frontend Environment Variables:**
```bash
VITE_API_BASE_URL=https://hotel-platform-api.onrender.com
NODE_ENV=production
```

#### 4. **Deploy Process**
Render sáº½ tá»± Ä‘á»™ng:
1. âœ… Táº¡o PostgreSQL database
2. âœ… Build Django backend vá»›i dependencies
3. âœ… Cháº¡y migrations vÃ  seed data  
4. âœ… Build React frontend vá»›i Vite
5. âœ… Deploy vÃ  cáº¥p subdomain miá»…n phÃ­

### ğŸŒ URLs sau khi deploy:
- **ğŸ¯ Web Frontend**: `https://hotel-platform-web.onrender.com`
- **ğŸ”§ API Backend**: `https://hotel-platform-api.onrender.com`
- **ğŸ‘¨â€ğŸ’» Admin Panel**: `https://hotel-platform-api.onrender.com/admin/`
- **ğŸ“š API Docs**: `https://hotel-platform-api.onrender.com/swagger/`

### ğŸ” Monitoring & Logs:
- **Render Dashboard**: Xem logs, metrics, restart services
- **Health Checks**: Tá»± Ä‘á»™ng kiá»ƒm tra service health
- **Auto Restart**: Tá»± Ä‘á»™ng restart náº¿u service down

### âš¡ Performance Notes:
- **Free Tier**: Services cÃ³ thá»ƒ "sleep" sau 15 phÃºt khÃ´ng hoáº¡t Ä‘á»™ng
- **Cold Start**: Khá»Ÿi Ä‘á»™ng láº¡i cÃ³ thá»ƒ máº¥t 30-60 giÃ¢y
- **Upgrade**: CÃ³ thá»ƒ upgrade Ä‘á»ƒ trÃ¡nh sleeping

### ğŸ› ï¸ Troubleshooting:

**Náº¿u build fail:**
1. Kiá»ƒm tra logs trong Render Dashboard
2. Äáº£m báº£o `requirements.txt` vÃ  `package.json` Ä‘áº§y Ä‘á»§
3. Kiá»ƒm tra environment variables

**Náº¿u database connection fail:**
1. Kiá»ƒm tra `DATABASE_URL` environment variable
2. Äáº£m báº£o PostgreSQL service Ä‘ang cháº¡y

**Náº¿u CORS errors:**
1. Kiá»ƒm tra `CORS_ALLOWED_ORIGINS` settings
2. Äáº£m báº£o frontend URL Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘Ãºng

### ğŸ“š Useful Commands:

**Force redeploy:**
```bash
git commit --allow-empty -m "Force redeploy"
git push origin main
```

**Local testing with production settings:**
```bash
# Backend
cd hotelplatformapi
export DEBUG=False
export DATABASE_URL=postgresql://...
python manage.py runserver

# Frontend  
cd hotelplatformweb-vite
export VITE_API_BASE_URL=https://hotel-platform-api.onrender.com
npm run build
npm run preview
```

---

## ğŸ›¡ï¸ Security Checklist:

- âœ… `DEBUG=False` in production
- âœ… Secret key auto-generated
- âœ… CORS properly configured
- âœ… HTTPS enforced
- âœ… Static files optimized with WhiteNoise
- âœ… Database credentials secured
- âœ… Environment variables properly set

## ğŸ¯ Káº¿t quáº£:
Sau khi deploy thÃ nh cÃ´ng, báº¡n sáº½ cÃ³:
- âœ… Hotel Platform API backend cháº¡y trÃªn Django + PostgreSQL
- âœ… React frontend vá»›i Material-UI responsive design
- âœ… Database vá»›i sample data sáºµn sÃ ng
- âœ… File upload qua Cloudinary
- âœ… JWT authentication system
- âœ… Admin panel Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng
- âœ… API documentation vá»›i Swagger
- âœ… Auto SSL certificates

**ğŸ‰ Enjoy your deployed Hotel Platform! ğŸ¨**
